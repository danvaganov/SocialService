<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">
	<h:form id="navigationFrom">
		<p:growl autoUpdate="true" />
		<p:panelMenu style="width: auto;">
			<p:submenu label="Дела" id="navigationArticleContract">
				<p:menuitem value="Дела [#{personServiceBean.find().size()}]" icon="ui-icon-document" update=":content" actionListener="#{mainContentBean.setContent('/private/snippets/ServiceDataGrid.xhtml')}" />
			</p:submenu>
			<p:submenu label="Клиенты">
				<p:menuitem value="Клиенты [#{personBean.getRowCount()}]" icon="ui-icon-person" update=":content" actionListener="#{mainContentBean.setContent('/private/snippets/PersonTable.xhtml')}" />
			</p:submenu>
			<p:separator />
			<p:submenu label="Отчеты">
				<p:menuitem value="stat" icon="ui-icon-script" update=":content" actionListener="#{mainContentBean.setContent('/private/snippets/Report.xhtml')}" />
				<p:menuitem value="Статистика" action="#{contractBean.showContract()}" icon="ui-icon-extlink" target="_blank" ajax="false" />
			</p:submenu>
			<p:submenu label="Администрирование" rendered="#{facesContext.externalContext.isUserInRole('admin')}">
				<p:menuitem value="Пользователи" icon="ui-icon-script" update=":content" actionListener="#{mainContentBean.setContent('/private/snippets/UserTable.xhtml')}" />
				<p:menuitem value="Импорт данных" icon="ui-icon-script" update=":content" actionListener="#{mainContentBean.setContent('/private/snippets/ImportTable.xhtml')}" />
			</p:submenu>
			<p:submenu label="Мероприятия">
				<p:menuitem value="Мероприятия [#{serviceBean.getRowCount()}]" icon="ui-icon-person" update=":content" actionListener="#{mainContentBean.setContent('/private/snippets/ServiceTable.xhtml')}" />
			</p:submenu>
		</p:panelMenu>
	</h:form>
</ui:composition>
